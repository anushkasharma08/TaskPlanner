<div *ngIf="loggedin" style="width: 80%; margin-left:200px">
  

<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <p>Add Employee</p>
  <div class="form-outline  form-group">
    <label class="form-label">Name</label>

    <input
      type="name"
      id="name"
      formControlName="name"
      class="form-control"
      placeholder="name"
    />
    <br />
    <span
      *ngIf="
        !form.get('name').valid &&
        form.get('name').touched
      "
      class="help-block"
      >Please enter a valid name!</span
    >
  </div>
  <div class="form-outline  form-group">
    <label class="form-label">Email</label>

    <input
      type="email"
      id="email"
      formControlName="email"
      class="form-control"
      placeholder="email address"
    />
    <br />
    <span
      *ngIf="
        !form.get('email').valid &&
        form.get('email').touched
      "
      class="help-block"
      >Please enter a valid email!</span
    >
  </div>

  <div class="form-outline form-group">
    <label class="form-label">Phone no.</label>

    <input
      type="number"
      id="phone"
      formControlName="phone"
      class="form-control"
      placeholder="phone"

    />
    <br />
    <span
      *ngIf="
        !form.get('phone').valid &&
        form.get('phone').touched
      "
      class="help-block"
      >Please enter valid Phone no.</span
    >
  </div>
  <div class="form-outline form-group">
    <label class="form-label">Password</label>

    <input
      type="password"
      id="password"
      formControlName="password"
      class="form-control"
    />
    <br />
    <span
      *ngIf="
        !form.get('password').valid &&
        form.get('password').touched
      "
      class="help-block"
      >Please enter atleast 8 characters!</span
    >
  </div>
  
 

  <div class="text-center pt-1 mb-5 pb-1">
    <button
      class="btn btn-primary btn-block fa-lg gradient-custom-2 mb-3"
      [disabled]="!form.valid"
      type="Submit"
    >
      Add
    </button>
  </div>
</form>

<table *ngIf="!isView" class="table table-striped">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Name</th>
      <th scope="col">Email</th>
      <th scope="col">Phone</th>
    </tr>
  </thead>
  <tbody >
    <tr *ngFor="let i of employees">
      <th scope="row">{{i.employee_id}}</th>
      <td>{{i.name}}</td>
      <td>{{i.email}}</td>
      <td>{{i.phone}}</td>
      <button class="btn btn-danger" (click)="employeeProjects(i)">View Projects</button>
    </tr>
    
  </tbody>  </table>
  <div *ngIf="isView">
    <table *ngIf="isData" class="table table-striped">
      <thead>
        <tr>
          <th scope="col">Id</th>
          <th scope="col">Project</th>
          <th scope="col">Decsription</th>
        </tr>
      </thead>
      <tbody >
        <tr *ngFor="let i of employeeProject">
          <th scope="row">{{i.project_id}}</th>
          <td>{{i.project.project_name}}</td>
          <td>{{i.project.description}}</td>
        </tr>
        
      </tbody>  </table>
      <button class="btn btn-outline-danger" (click)="isView=!isView">Back</button>
      <h4 *ngIf="!isData">No Data</h4>
  </div>
  
</div>
<div *ngIf="!loggedin">
  <h2>Please Login First</h2>
</div>